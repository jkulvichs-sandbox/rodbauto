![License CC ](https://img.shields.io/badge/LICENSE-CC_BY_NC_ND-%23EF9421?style=flat-square&logo=php)
![PHP Version 5.6](https://img.shields.io/badge/PHP-5.6-%23777BB4?style=flat-square&logo=php)
![Designed For InternetExplorer 6](https://img.shields.io/badge/BROWSER-IE6-%230076D6?style=flat-square&logo=Internet-Explorer)
![GitHub last commit](https://img.shields.io/github/last-commit/jkulvichs-sandbox/rodbauto?style=flat-square)

# üè¢ RODBAuto

> Recruiting Office DataBase Automation Tools  
> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ë–î –°–±–æ—Ä–Ω–æ–≥–æ –ü—É–Ω–∫—Ç–∞

> –õ–∏—Ü–µ–Ω–∑–∏—è **[–°–° Attribution-NonCommercial-NoDerivs](LICENSE)**
>
> ![License Attribution-NonCommercial-NoDerivs](https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png)
> - **–ó–∞–ø—Ä–µ—Ç** –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
> - **–ó–∞–ø—Ä–µ—Ç** –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
> - **–†–∞–∑—Ä–µ—à–µ–Ω** –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ PHP 5.6 –∏ InternetExplorer 6.  
–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π.

## üîå API

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

```json5
{
  // –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–≤–µ—Ç–∞
  "data": {},
  // –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞
  "error": {
    // –§–∞–∫—Ç –æ—à–∏–±–∫–∏
    "status": false,
    // –¢–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–¥|ID –æ—à–∏–±–∫–∏
    "code": "",
    // –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
    "message": ""
  },
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è action
  "context": {
    // ID –¥–µ–π—Å—Ç–≤–∏—è
    "action": "",
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π HTTP –º–µ—Ç–æ–¥
    "method": "",
    // –†–∞—Å–ø–∞—Ä—à–µ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
    "args": "",
    // –í—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    "body": ""
  }
}
```

–î–∞–ª–µ–µ –±—É–¥–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª—è `data`

> #### GET /server/api/recruit-offices/list.php

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è ID –ø—Ä–∏–∑—ã–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –∫ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json5
[
  {
    "id": "08489495",
    "name": "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π –∏ –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π"
  },
]
```

> #### GET /server/api/persons/search.php

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –§–ò–û, –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è, –ª–∏—á–Ω–æ–º—É –Ω–æ–º–µ—Ä—É, –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–∏–∑—ã–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:

- `query` - –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- `limit` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 5, –º–∞–∫—Å–∏–º—É–º 10
- `filter_birth_year` - //TODO:
- `filter_recruit_office` - //TODO:
- `filter_local_command` - //TODO:

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json5
{
  // –í—Ö–æ–¥—è—â–∏–π –ø–æ–∏—Å–∫–æ–≤–æ–π –∑–∞–ø—Ä–æ—Å
  "query": "",
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ –§–ò–û
  "fullName": [
    {
      "person": {
        "id": "848949500000655",
        "num": "0848949503–®0025",
        "firstName": "–ò–≤–∞–Ω–æ–≤",
        "lastName": "–ò–≤–∞–Ω",
        "middleName": "–ò–≤–∞–Ω–æ–≤–∏—á",
        "address": "–≥.–ú–æ—Å–∫–≤–∞, —É–ª.–ú–∞—Ä–∫—Å–∞, –¥.1, –∫–≤. 111",
        "personalIDSerial": "–£–ö",
        "personalIDNumber": "0000000",
        "drivingLicenses": "C, D",
        "birthYear": "2000",
        "passportSerial": "0000",
        "passportNumber": "000000"
      },
      "initReg": {
        "id": "848949500000655",
        "extra": "{\"localCommand\": \"56\"}"
      },
      "recruitOffice": {
        "id": "08489495",
        "name": "–í–ö –û–∫—Ç—è–±—Ä—å—Å–∫–æ–≥–æ –∏ –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–æ–≤ –≥–æ—Ä–æ–¥–∞ –ü–µ–Ω–∑–∞ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, –≥. –ü–µ–Ω–∑–∞"
      }
    },
  ],
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ fullName
  "birthYear": [],
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –ª–∏—á–Ω–æ–º—É –Ω–æ–º–µ—Ä—É
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ fullName
  "personalID": [],
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–∞–Ω–¥–µ
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ fullName
  "localCommand": [],
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ–Ω–∏ –≤–æ–µ–Ω–∫–æ–º–∞—Ç–∞
  "recruitOffices": {
    // –°–ø–∏—Å–æ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–æ–µ–Ω–∫–æ–º–∞—Ç–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ fullName
    "–í–ö –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, –≥. –ü–µ–Ω–∑–∞": [],
  }
}
```

## ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å –≤ Actions/Action —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è Action*
   –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç Action –∏ —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –º–µ—Ç–æ–¥ Execute($ctx)
   –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω Action
2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –∏–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤ Actions/Action/all.php –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –¥–µ–π—Å—Ç–≤–∏—è
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤—ã–∑–æ–≤–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ api/ —Å –∏–º–µ–Ω–µ–º –¥–µ–π—Å—Ç–≤–∏—è –∏ –∫–æ–¥–æ–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ App.php::Main

## ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

1. –î–æ–±–∞–≤—å—Ç–µ –∫–ª–∞—Å—Å –º–æ–¥–µ–ª–∏ –≤ Postgres/Models —Å –∏–º–µ–Ω–µ–º –º–æ–¥–µ–ª–∏ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω Models —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç Model
   —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –µ–º—É
2. –£–∫–∞–∂–∏—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏ –∫–∞—Ä—Ç—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –≤ –∫–ª–∞—Å—Å–µ –º–æ–¥–µ–ª–∏

## ‚ôª –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª backend

```
+-< +---[ api ]---+ -> [–¢–û–ß–ö–ê –í–•–û–î–ê] –°–∫—Ä–∏–ø—Ç—ã –≤—ã–∑–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∏–π
|   | ...         |
|   +-------------+
|
+---+
    V
+-< +---[ Run ]---+ -> –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
|
+----> +---[ App ]---+ -> –ö–û–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
       | Init        | -> –ö–æ–Ω—Ñ–∏–≥, –ë–î
+----< | Main        | -> –†–æ—É—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π
|      | Finalize    | -> –û—á–∏—Å—Ç–∫–∞ -> –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–µ–π—Å—Ç–≤–∏—è—Ä–µ—Å—É—Ä—Å–æ–≤
|  +-< +-------------+
|  |
|  +-> +---[ Postgres ]-----+ -> ORM –∏ —Å–æ–¥–µ–ª–∏ –ë–î
|      | Postgres           | -> ORM –ë–î
|      | +---[ Models ]---+ | -> –ú–æ–¥–µ–ª–∏
|      | | Model >-+      | | -> –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
|      | | ...   <-+      | | -> –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
|      | +----------------+ |
|      +--------------------+
|
+-> +---[ Actions ]-----------+ -> –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–µ–π—Å—Ç–≤–∏–π        
    | Context                 | -> –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–π—Å—Ç–≤–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ë–î
    | Response                | -> –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
    | Errors                  | -> –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –æ—à–∏–±–æ–∫
+---< +---[ Action ]--------+ |
|   | | Action              | | -> –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–µ–π—Å—Ç–≤–∏—è
|   | | ActionError         | | -> –û—Ç–≤–µ—Ç –æ–± –æ—à–∏–±–∫–µ
|   | | ActionPersonsSearch | | -> –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–∏—Å–∫–∞
|   | | ...                 | |
|   | +---------------------+ |
|   +-------------------------+
|   
+-> +---[ Structures ]---+ -> –°—Ç—Ä—É–∫—Ç—É—Ä—ã —É–ø–∞–∫–æ–≤–∫–∏
    | PersonCardReply    | -> –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–∑—ã–≤–Ω–∏–∫–∞
    | ...                |
    +--------------------+
```

## ‚úÖ TODO

### –ü–æ–∏—Å–∫ –ª—é–¥–µ–π –ø–æ:

- [X] –§–ò–û, –ø—Ä–∏—á—ë–º –ø–æ –≤—Å–µ–º—É –≤–º–µ—Å—Ç–µ (–Ø—Ä–æ—Å–ª–∞–≤ –ê–Ω–¥—Ä–µ–µ–≤–∏—á)
- [X] –ì–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è
- [X] –ù–∞–∑–≤–∞–Ω–∏—é –ø—Ä–∏–∑—ã–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (id –ø–µ—Ä–≤—ã–µ 8 —Ü–∏—Ñ—Ä –∏–∑ priz01.pnom)
  —Å –Ω–∏–º–∏ –ø–æ —Ç–∞–±–ª–∏—Ü–µ r8012
- [X] –õ–∏—á–Ω—ã–π –Ω–æ–º–µ—Ä
- [X] –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (–∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 700 –¥–ª—è –ø—É—Å—Ç—ã—Ö)

### –§–∏–ª—å—Ç—Ä:

- [ ] –ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è
- [ ] –ü—Ä–∏–∑—ã–≤–Ω–æ–π –ø—É–Ω–∫—Ç
- [ ] –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞

### –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫—Ä–∞—Ç–∫–æ–π –∫–∞—Ä—Ç–µ –ø–æ–∏—Å–∫–∞:

- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ JSON –≤ priz10.p100
- [ ] –§–ò–û
- [ ] –ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è
- [ ] –ñ–µ—Ç–æ–Ω / –õ–∏—á–Ω—ã–π –Ω–æ–º–µ—Ä
- [ ] –í–æ–µ–Ω–∫–æ–º–∞—Ç
- [ ] –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ)

> –í priz10.p100 –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ª–µ–∂–∞—Ç—å —Ç–µ–∫—Å—Ç —Å –∫–æ–º–º–µ–Ω—Ç–æ–º.
> –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø–∏—Ö–∞—Ç—å –µ–≥–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ JSON'–µ
